(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(42)},22:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var c=a(0),o=a.n(c),n=a(15),s=a.n(n),r=(a(22),a(3)),i=a(4),l=a(6),u=a(5),d=a(7),m=a(2),g=a.n(m),p=function(){return o.a.createElement("div",{className:"head_menu"},o.a.createElement("div",{className:"logo"},"Payfirma"))},f=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(e){console.log(e.target),this.deleteProduct(e.target.id)}},{key:"deleteProduct",value:function(e){var t=this;g.a.delete("https://java-backend-spring.herokuapp.com/product/delete/".concat(e)).then(function(e){e.data.errmsg?console.log("delete product failed"):(console.log("delete product successful"),t.props.getProducts())}).catch(function(e){console.log("delete error: "),console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.products.map(function(t){return o.a.createElement("div",{key:t.product_id,className:"ui card ui_product "+t.product_id},o.a.createElement("div",{className:"image dimmable"},o.a.createElement("img",{src:"images/product_icon.png"})),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"header"},t.product_name),o.a.createElement("div",{className:"meta"},o.a.createElement("a",{className:"group"},t.product_description)),o.a.createElement("div",{className:"description"}," Categories : ",t.categories.map(function(e){return o.a.createElement("a",{key:e.category_id,className:"meta cat"}," ",e.category_name," ")}))),o.a.createElement("div",{className:"ui one bottom attached buttons"},o.a.createElement("div",{id:t.product_id,className:" secondary ui button",onClick:function(t){e.handleClick(t)}}," DELETE ")))});return o.a.createElement("main",{className:"product_div"},o.a.createElement("div",{className:"ui cards"},t))}}]),t}(c.Component),h="https://java-test.ddns.net",v=function(e){function t(){var e,a;Object(r.a)(this,t);for(var c=arguments.length,o=new Array(c),n=0;n<c;n++)o[n]=arguments[n];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={sub_categories:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(e){console.log(e.target),this.findProducts(e.target.id)}},{key:"findProducts",value:function(e){var t=this;g.a.get("".concat(h,"/category/find/").concat(e)).then(function(e){e.data.errmsg?console.log("find products failed"):(console.log("find products successful"),t.props.updateProducts(e.data))}).catch(function(e){console.log("find error: "),console.log(e)})}},{key:"render",value:function(){var e=this,a=this.props.categories.map(function(a){return!a.subcategories||a.subcategories.length<1?o.a.createElement("li",{key:a.id,className:"sub_category "+a.category_id},o.a.createElement("div",{id:a.id,className:"item",onClick:function(t){e.handleClick(t)}},a.name)):o.a.createElement("li",{key:a.id,className:"sub_category "+a.category_id},o.a.createElement("div",{id:a.id,className:"item",onClick:function(t){e.handleClick(t)}},a.name," ",o.a.createElement("i",{className:"dropdown icon"})),o.a.createElement("div",{className:"sub_2"},o.a.createElement(t,{categories:a.subcategories,updateProducts:e.props.updateProducts,getProducts:e.props.getProducts})))});return o.a.createElement("main",null,o.a.createElement("ul",{className:"subcategories_div"},a))}}]),t}(c.Component),E=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(e,t){console.log(e.target);for(var a=document.querySelectorAll(".active"),c=0;c<a.length;c++)a[c].classList.remove("active");e.target.className="active item",1===t?this.props.getProducts():this.findProducts(e.target.id)}},{key:"findProducts",value:function(e){var t=this;g.a.get("".concat(h,"/category/find/").concat(e)).then(function(e){e.data.errmsg?console.log("find products failed"):(console.log("find products successful"),t.props.updateProducts(e.data))}).catch(function(e){console.log("find error: "),console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.categories.map(function(t){return o.a.createElement("li",{className:"category_container",key:t.id},o.a.createElement("div",{className:"ui_category "+t.id},o.a.createElement("div",{id:t.id,className:"item",onClick:function(t){e.handleClick(t)}},t.name," ",o.a.createElement("i",{className:"dropdown icon"})),o.a.createElement(v,{categories:t.subcategories,updateProducts:e.props.updateProducts,getProducts:e.props.getProducts})))});return o.a.createElement("main",null,o.a.createElement("ul",{className:"categories_div"},o.a.createElement("li",{className:"ui_category all"},o.a.createElement("div",{className:"item active",onClick:function(t){e.handleClick(t,1)}},"Categories : All")),t))}}]),t}(c.Component),b=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={categories:[],products:[]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getProducts(),this.getCategories()}},{key:"getProducts",value:function(){var e=this;g.a.get("".concat(h,"/product/all")).then(function(t){t.data.errmsg?console.log("get products failed"):(e.setState({products:t.data}),console.log(t.data),console.log("get products successful"))}).catch(function(e){console.log("error: "),console.log(e)})}},{key:"getCategories",value:function(){var e=this;g.a.get("".concat(h,"/category/all")).then(function(t){t.data.errmsg?console.log("get categories failed"):(e.setState({categories:t.data}),console.log(t.data),console.log("get categories successful"))}).catch(function(e){console.log("error: "),console.log(e)})}},{key:"updateProducts",value:function(e){this.setState({products:e})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p,null),o.a.createElement(E,{categories:this.state.categories,updateProducts:this.updateProducts.bind(this),getProducts:this.getProducts.bind(this),getCategories:this.getCategories.bind(this)}),o.a.createElement(f,{products:this.state.products,getProducts:this.getProducts.bind(this)}))}}]),t}(c.Component);s.a.render(o.a.createElement(b,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a9d0ff3d.chunk.js.map